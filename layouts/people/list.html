{{ define "main" }}
<h1 class="page-title">Meet Our Team</h1>

<p class="team-description">
  The Never Give Up Transitional Living program will be staffed by a team of professionals with lived experiences who are committed to providing high-quality reentry and peer support services. The team will work at the reentry house throughout its operation and ensure that participants receive the comprehensive care and guidance they need. Together, this team ensures that individuals returning from incarceration receive the comprehensive support needed to rebuild their lives, secure stable employment and housing, and successfully reintegrate into their communities.
</p>

<!-- Leadership Section -->
<h2 class="section-title">Leadership</h2>
<div class="team-grid leadership-grid">
  {{ $leadershipOrder := slice "Julie" "Shane" "Jimmy" }}
  {{ $people := where site.Pages "Section" "people" }}
  {{ range $name := $leadershipOrder }}
    {{ range where $people "Params.first_name" "eq" $name }}
      <div class="team-card">
        <a href="{{ .RelPermalink }}">
          <img src="{{ .Params.image }}" alt="{{ .Title }}" class="team-photo" />
          <h3 class="team-name">{{ .Title }}</h3>
          {{ with .Params.role }}
            {{ $roles := split . "/" }}
            <p class="team-role">
              {{ range $i, $r := $roles }}
                {{ if gt $i 0 }}<br>{{ end }}{{ trim $r }}
              {{ end }}
            </p>
          {{ end }}
        </a>
      </div>
    {{ end }}
  {{ end }}
</div>

<!-- Staff Section -->
<h2 class="section-title staff-title">Staff</h2>
<div class="team-grid staff-grid">
  {{ $leadershipFirstNames := slice "Julie" "Shane" "Jimmy" }}
  {{ $staff := where $people "Params.first_name" "not in" $leadershipFirstNames }}
  {{ $staffSorted := sort $staff "Params.first_name" }}
  {{ range $staffSorted }}
    <div class="team-card">
      <a href="{{ .RelPermalink }}">
        <img src="{{ .Params.image }}" alt="{{ .Title }}" class="team-photo" />
        <h3 class="team-name">{{ .Title }}</h3>
        <p class="team-role">{{ .Params.role }}</p>
      </a>
    </div>
  {{ end }}
</div>

<style>
.page-title {
  font-size: 3rem;
  text-align: center;
  margin-bottom: 0.5rem;
}

.team-description {
  max-width: 700px;
  margin: 0 auto 2rem auto;
  text-align: center;
  font-size: 1.1rem;
  line-height: 1.5;
  color: #333;
}

.section-title {
  font-size: 2rem;
  margin-top: 3rem;
  margin-bottom: 1rem;
  text-align: center;
  color: #003366; /* Dark Blue */
}

/* Extra space between leadership and staff sections */
.staff-title {
  margin-top: 5rem !important;
}

/* Grid adjustments */
.team-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 0.75rem; /* Reduced gap to push cards closer */
  justify-items: center;
}

/* Optional: Different grid for leadership if needed */
.leadership-grid {
  gap: 1rem;
}

.staff-grid {
  gap: 0.75rem;
}

.team-card {
  text-align: center;
  padding: 0.3rem;
}

.team-photo {
  width: 150px;
  height: 150px;
  object-fit: cover;
  border-radius: 50%;
  margin-bottom: 0.5rem; /* Smaller space between image and name */
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.team-name {
  font-size: 1.4rem;
  margin-bottom: 0.15rem;
  color: #005C99; /* Medium Blue */
}

.team-role {
  font-size: 1rem;
  color: #333;
  line-height: 1.3;
  white-space: pre-line; /* respects line breaks */
  margin: 0;
}
</style>
{{ end }}
