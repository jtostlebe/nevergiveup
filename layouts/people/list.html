{{ define "main" }}
<h1 class="page-title">Meet Our Team</h1>

<p class="team-description">
  The Never Give Up Transitional Living program is overseen by a nonprofit 501(c)(3) organization's--Good Turn Labor--board of directors.
  
  The program is staffed by a team of professionals with lived experiences who are committed to providing high-quality reentry and peer support services. The team works at the reentry house and ensures that participants receive the comprehensive care and guidance they need. 
  
  Together, this team ensures that individuals returning from incarceration receive the comprehensive support needed to rebuild their lives, secure stable employment and housing, and successfully reintegrate into their communities.
</p>

<!-- Simple text link to Employee Descriptions PDF -->
<p style="text-align: center; margin-bottom: 2rem;">
  <a href="/docs/NGUStaffRoleDescriptions.pdf" target="_blank" rel="noopener noreferrer" style="font-weight: bold; color: #141436;">
    Click HERE for Detailed Program Staff Descriptions (PDF)
  </a>
</p>

{{ $people := where site.Pages "Section" "people" }}

<!-- Board of Directors Section -->
<h2 class="section-title">Good Turn Labor Board of Directors</h2>
<div class="team-grid">
  {{ $boardOrder := slice "Mark" "Rosalyn" "Tim" "Greg" "John" }}
  {{ range $name := $boardOrder }}
    {{ range where $people "Params.first_name" "eq" $name }}
      <div class="team-card">
        <a href="{{ .RelPermalink }}">
          <img src="{{ .Params.image }}" alt="{{ .Title }}" class="team-photo" />
          <h3 class="team-name">{{ .Title }}</h3>
          <p>{{ .Params.role }}</p>
        </a>
      </div>
    {{ end }}
  {{ end }}
</div>

<!-- Leadership Section -->
<h2 class="section-title">NGU Program Leadership</h2>
<div class="team-grid">
  {{ $leadershipOrder := slice "Julie" "Shane" "Jimmy" }}
  {{ range $name := $leadershipOrder }}
    {{ range where $people "Params.first_name" "eq" $name }}
      <div class="team-card">
        <a href="{{ .RelPermalink }}">
          <img src="{{ .Params.image }}" alt="{{ .Title }}" class="team-photo" />
          <h3 class="team-name">{{ .Title }}</h3>
          <p>{{ .Params.role }}</p>
        </a>
      </div>
    {{ end }}
  {{ end }}
</div>

<!-- Staff Section -->
<h2 class="section-title" style="margin-top: 5rem;">NGU Staff</h2>
<div class="team-grid">
  {{/* Exclude both board + leadership first names */}}
  {{ $boardFirstNames := slice "Mark" "Rosalyn" "Tim" "Greg" "John" }}
  {{ $leadershipFirstNames := slice "Julie" "Shane" "Jimmy" }}
  {{ $excludeFirstNames := union $boardFirstNames $leadershipFirstNames }}

  {{ $staff := where $people "Params.first_name" "not in" $excludeFirstNames }}
  
  {{ range sort $staff "Params.last_name" }}
    {{ if eq .Params.first_name "Brian" }}
      <div class="team-card">
        <a href="{{ .RelPermalink }}">
          <img src="{{ .Params.image }}" alt="{{ .Title }}" class="team-photo" />
          <h3 class="team-name">{{ .Title }}</h3>
          <p>{{ .Params.role }}</p>
        </a>
      </div>
    {{ end }}
  {{ end }}

  {{ range sort $staff "Params.last_name" }}
    {{ if ne .Params.first_name "Brian" }}
      <div class="team-card">
        <a href="{{ .RelPermalink }}">
          <img src="{{ .Params.image }}" alt="{{ .Title }}" class="team-photo" />
          <h3 class="team-name">{{ .Title }}</h3>
          <p>{{ .Params.role }}</p>
        </a>
      </div>
    {{ end }}
  {{ end }}
</div>

<style>
.page-title {
  font-size: 3rem;
  text-align: center;
  margin-bottom: 0.5rem;
}

.team-description {
  max-width: 700px;
  margin: 0 auto 2rem auto;
  text-align: center;
  font-size: 1.1rem;
  line-height: 1.5;
  color: #333;
}

.section-title {
  font-size: 2rem;
  margin-top: 4rem;
  margin-bottom: 1.5rem;
  text-align: center;
  color: #003366; /* Dark Blue */
}

.team-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;  /* This centers all lines */
  gap: 1.5rem;
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 1rem;
}

.team-card {
  flex: 0 1 200px;
  text-align: center;
  padding: 0.5rem;
  transition: color 0.3s ease;
}

.team-card:hover .team-name {
  color: #007ACC; /* subtle blue color on hover */
}

.team-photo {
  width: 130px;
  height: 130px;
  object-fit: cover;
  border-radius: 50%;
  margin-bottom: 0.5rem;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.team-name {
  font-size: 1.4rem;
  margin-bottom: 0.3rem;
  color: #005C99;
  transition: color 0.3s ease;
}

.team-card p {
  white-space: pre-line;
  margin: 0.25rem 0 0;
}
</style>

{{ end }}
